<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="utf-8" />
  <title>Demo10: Transparent Background</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link href="css/app.css" rel="stylesheet" />
  <script src="scripts/jquery.js"></script>
  <script src="scripts/powerbi.js"></script>

</head>

<body>


  <div id="toolbar">


    <div class="radio-group">
      <span class="radio-group-label">Background:</span>
      <input type="radio" name="background" value="solid" id="solid" />
      <label for="solid">Solid</label>
      <input type="radio" name="background" value="transparent" id="transparent" checked />
      <label for="fr">Transparent</label>
    </div>

    <div class="radio-group">
      <span class="radio-group-label">View Mode:</span>
      <input type="radio" name="viewmode" value="view" id="view" checked />
      <label for="solid">View</label>
      <input type="radio" name="viewmode" value="edit" id="edit" />
      <label for="fr">Edit</label>
    </div>

  </div>

  <div id="reportContainer" style="background-image: url('css/img/background.jpg');background-color: antiquewhite"/>

  <script>

    // data required for embedding Power BI report
    var embedReportId = "69ad0538-a1ab-4897-bb99-cd3baaa17833";
    var embedUrl = "https://app.powerbi.com/reportEmbed";
    var accessToken = "H4sIAAAAAAAEAB2Wxwr0CA6E3-W_esCxHQbmYLudcw4355yzl3337dmrKIQoUZ_0nz9m8vRTkv_5-08Pq2a4HtcgXopSxIBGmptUmFc7knkKR3Pu3PiXTzxocQyE4M1IlRch4sN5UVuIPbm0zWMQpn4trLG34jBYImpgThtnV-clJm4iXmy6JOYZ1rSzcwoVG1Ws1ffOgzv14ccvt0Z3zkfmBV5zhwO9m-m20zKxWys3SaxOsQoptFJBxXNcnT2KHI2GMkRVS0Jcu8mNqz7iBzIKSepo25gvXaZoSmJF9KmNqZv4wEZU-KrdSFHywWX3iE0IJkGHwCnyBXKxeR9EAK86VQ6PSAiV3CwjkuNZII252bqrYw6hO0S5pG5gZL3MxmDk5w8ujWHIVqmiAMc52DqipWKrDbXLDX77vAcubMh5ahTDXqBhpATiZBRKG-jFdDtMP4CrnISoOhY9jSvRCAIOcyubS_Zmlp2xTHw9h0rTwJpf9-jJPk6dSLpMRu2qSZ0MVY4aM8YSy-0-RZnoz53uwp9GL7S5n1HTw_vx0xPs0b-yAq3o5WGYSnWEToULUQFJoRlaJ1AKPKq0Ghnv5EUvUcFOGYob3ND0ecTq7GdDCiZhrSh8ldfw1l9PbOL107jox-kFj3VhbRBetabYbg2YCf4oTAc0qiadmK3K2cOcl8Qf35rjaQqTHjdUZhB8FDNgGvGKkTT7jcDei3cEdWxMZBRvs2gXC9RB8YiF7BBJdrM2TNuUXC4rF8T14AOxyq40fNI3mSpaYGbo1OxglBMa7FQVzqy_v84eOM6Vy5klS9_FdxaaKbySdfkQU5IlVIetMc9SkIlonln7yFVttHfr7ZlEyq6-VQw9SFJam6uippvNoZ_FtDTJO6Bu2mDJQqkoTY0UD_Tmp-IPJCq4c3ErtD-JunuvQp01w8CKrzTsMly-Rf9CXvkiLMYUL_P0XvipKB7BBJMs4QODYl6er1mhCHVAO2LyBDZq5wWn5t2_YdsFkOssQXmW8qwOqOhID7JsNn7XTo_KxFxrwvZbU-DCh3oGp6ntkqXkgxw_t8l48fdwcVAYowX6XF-PNRV3KGfPOIdMWMwuWeF57DdcwOknmbTBYZFpr1PItGtEKGtVpHYAEAwKAXnvThDzC60yERms9AtmyNuX0W6n3YiFnzwMGOf6K8TF6azx-5zSRWPnWLGmYE5d0gX0c4GHg7Nuxh9826KNvIHf1uIVZoYfUyJuxRcEK2GYMb5e6RgOBmB9jFNzUTS0484L17AXiN6aB0_uBU33vS5P_FXfRIGqPVHW1yd6yvHsG3_O9JQ0c8FiGUZ1qy--QYWpJgo93eXInGbr0LhFFuDhYGERDzYeZpXx-VuCuek5DB2P24MJHZ9-6nr8Th8aiDn10oqkLKIp66gzIZ1SWSR8RAcyfpXVwlsXHJujY06G3yLDd4-bwo4QzFqq4zHbSbNv56VmHL4HOgCP21JkdH93s876yfkipFv4JimM3oir2KhUzO1orInlP9yQi9Uj2eF-4I0CmjjvAe04J1hjhlzSr55RMPVDgBTXvq8BfMg32JlJMEhPhwBPylCY5quvvTRiOHnX93Ne7KVtOPeL3BxNYklISzroAvpJA9IdoZqHU6N4mz40lkjPoAZbfNOMCxfHlgOvAFz0caQDYBwfcKjuw4s6hU8_p0UYcCR2PCfZBy447I5XGUkL84oVht_1OBiHLL0JR6UaFeyJT2LNuQ6X0evWFcQUVLRXK0mlS8FoX-T7uVno60WEbsxJF47uo70YfutzorQntNV4iq0kT9KMR4etV63uEhHAfIJiOu4EtYYLXS3rXX1KLu6JUVuwYDZPOLAr8wXRpMdh9vQKechhKm0kLpUD2hZ2rae_WsPHO8gtqWdX3JK3NrdoSJu1TjOdNxbnpO8Q2xBoONt8Bn0LizmifFLdy1Y4St7tSLk0_c7vFUmWFlWFqxMQfOSG5ObDanFnlxA9pVsNJc2mJnqKf-rZyNUfaT8P-4QSki1G560h24xTn08m__6C7iNpRQpmQNCNuYxv9UPNddOCM5du_2J35_miZqRo-wKPv_UdHDAdTeFGWSnJyknU_tVjWE3pm65HhFlB-lhv7Tzc0P_STOnpOobQVfWm8BuCWm-PqBpy5Vd8nq6adf3xUvyUqQfpd6xkhdtO_Ol2pirIfkXRr00fc5inAEn-Xgm1FtX19nzCZQW0hQlqBkocVKwoQb5SaGEccuRfhZaDCQSJcaeD2t1RjaFxERgpJn_tIyyV4TrvDzVnwxAtVXgz0zzPY1kQqYFbi68LmoVN4qycEKwVnD7wvmePzxv3kXWbkhCOGwQBubB3coeUOI3thKbVmPWdNE-0qh9dH69hcAllmaE59mYBCkxeaP_jLHoA9IY-3f1Q3_z-bD5Wr61_cxG4CeKdljVZVwLeluHxPumeV103So_DLs8S_PnrD7s-8z4pxfN7p7ykp6zfiwQaJag4n6V6L9V9VWiCclRSDjac0CBO02UP2F6iAt4lZgJfzOhm7sY1QRr321EGp2SaK7i0cCITQc-AhDA-7yoPCvLKipD3HlmE6FUEdawj0GQJWJS9GLsau0ymA_QxWoNHZw1bakB8mYSUWevkuT6FdBWbtpIA2ytg6o28BrfkluD8cbn8HUaAQ9zR6ZPcPYCudwl7snRmfj457HDE7afwVxGUZbLf7aM-bQlyHvQI6cPYpyqt8GhDmQyYarmqeNySQ2FbQdvg5xVpklGFnJugCf5K36-HvkGx2vBMQChBnGazbfJaaCjuifan3OJ5qp51LNgQRtH3QvYitv7551-bn7kuVsn_uTyd_dgsRljX3WPrVLoi9UHR_1c5TTUm-7EWP1kCoHEoN1I1WvNo3NUCiR_a3WuIQcPd2x0luJjtTY9HtZAtcA_uDn3J4mBnir3m68CuRZ28Ljt5r3oSQR0uaLnlCadKIsUvadzHKURqHgZI9n6tGhFNNNBakF2LJZgFJcWsYKzNLMGCK89WNUGq4_uCtQjioc-S0cc23Ar6Arpyc967usJZO0RWI0ZS4zoarFllM06SUM6mE7jwcp-VmO2r9vTZK0IHNw79NbBgPJePnp_fuhFGA7NW_T70GAQw1rVri4agie0qNYFBeQR6DqufnTtXhG005yZk51DYzeXdvXe9Ytd_N1SQAwTavip_UEPzIVJ-Q_szVWZnAyXzQOOt__67jP_-D5VXKAlCDAAA.eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly9XQUJJLVVTLUVBU1QyLUItUFJJTUFSWS1yZWRpcmVjdC5hbmFseXNpcy53aW5kb3dzLm5ldCIsImVtYmVkRmVhdHVyZXMiOnsibW9kZXJuRW1iZWQiOmZhbHNlfX0=";

    // Get models object to access enums for embed configuration
    var models = window['powerbi-client'].models;

    var config = {
      type: 'report',
      id: embedReportId,
      embedUrl: embedUrl,
      accessToken: accessToken,
      tokenType: models.TokenType.Embed,
      permissions: models.Permissions.All,
      viewMode: models.ViewMode.View,
      settings: {
        background: models.BackgroundType.Transparent
      }
    };

    // Get a reference to the embedded report HTML element
    var reportContainer = document.getElementById('reportContainer');

    // Embed the report and display it within the div container.
    var report = powerbi.embed(reportContainer, config);

    // Display Report object in browser console window
    console.log(report);

    $(":radio").change((eventArgs) => {
      powerbi.reset(reportContainer);
      var selectedViewMode = $('input[name="viewmode"]:checked').val();
      var selectedBackground = $('input[name="background"]:checked').val();
      config.settings.background = (selectedBackground === "solid") ? models.BackgroundType.Default : models.BackgroundType.Transparent
      config.viewMode = (selectedViewMode === "view") ? models.ViewMode.View : models.ViewMode.Edit;
      var report = powerbi.embed(reportContainer, config);
    });


    $(function () {
      var widthBuffer = 12;
      var heightBuffer = 24;
      var toolbarHeight = $("#toolbar").height();
      $("#reportContainer").height($(window).height() - (heightBuffer + toolbarHeight));
      $("#reportContainer").width($(window).width() - widthBuffer);
      $(window).resize(function () {
        var toolbarHeight = $("#toolbar").height();
        $("#reportContainer").height($(window).height() - (heightBuffer + toolbarHeight));
        $("#reportContainer").width($(window).width() - widthBuffer);
      });
    });


  </script>

</body>
</html>